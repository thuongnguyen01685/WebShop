{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thuong Nguyen\\\\Desktop\\\\DoAn\\\\client\\\\src\\\\components\\\\mainpages\\\\categories\\\\Categories.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { GlobalState } from \"../../../GlobalState\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Categories() {\n  _s();\n\n  const state = useContext(GlobalState);\n  const [categories, setCategories] = state.categoriesAPI.categories;\n  const [category, setCategory] = useState(\"\");\n  const [token] = state.token;\n  const [callback, setCallback] = state.categoriesAPI.callback;\n  const [onEdit, setOnEdit] = useState(false);\n  const [id, setID] = useState(\"\");\n\n  const createCategory = async e => {\n    e.preventDefault();\n\n    try {\n      const res = await axios.post(\"/api/category\", {\n        name: category\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      setCategory(\"\");\n      setCallback(!callback);\n      alert(res.data.msg);\n    } catch (err) {\n      alert(err.res.data.msg);\n    }\n  };\n\n  const editCategory = async (id, name) => {\n    setID(id);\n    setCategory(name);\n    setOnEdit(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"categories\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: createCategory,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"category\",\n        children: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"category\",\n        value: category,\n        required: true,\n        onChange: e => setCategory(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col\",\n      children: categories.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: category.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => editCategory(categories._id, categories.name),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Del\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, category._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Categories, \"raJFqb1fE48PejdksnOEPDtYnRo=\");\n\n_c = Categories;\n\nvar _c;\n\n$RefreshReg$(_c, \"Categories\");","map":{"version":3,"sources":["C:/Users/Thuong Nguyen/Desktop/DoAn/client/src/components/mainpages/categories/Categories.js"],"names":["axios","React","useState","useContext","GlobalState","Categories","state","categories","setCategories","categoriesAPI","category","setCategory","token","callback","setCallback","onEdit","setOnEdit","id","setID","createCategory","e","preventDefault","res","post","name","headers","Authorization","alert","data","msg","err","editCategory","target","value","map","_id"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { GlobalState } from \"../../../GlobalState\";\r\n\r\nexport default function Categories() {\r\n  const state = useContext(GlobalState);\r\n  const [categories, setCategories] = state.categoriesAPI.categories;\r\n  const [category, setCategory] = useState(\"\");\r\n  const [token] = state.token;\r\n  const [callback, setCallback] = state.categoriesAPI.callback;\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [id, setID] = useState(\"\");\r\n\r\n  const createCategory = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post(\r\n        \"/api/category\",\r\n        { name: category },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n      setCategory(\"\");\r\n      setCallback(!callback);\r\n      alert(res.data.msg);\r\n    } catch (err) {\r\n      alert(err.res.data.msg);\r\n    }\r\n  };\r\n  const editCategory = async (id, name) => {\r\n    setID(id);\r\n    setCategory(name);\r\n    setOnEdit(true);\r\n  };\r\n  return (\r\n    <div className=\"categories\">\r\n      <form onSubmit={createCategory}>\r\n        <label htmlFor=\"category\">Category</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"category\"\r\n          value={category}\r\n          required\r\n          onChange={(e) => setCategory(e.target.value)}\r\n        />\r\n\r\n        <button type=\"submit\">Save</button>\r\n      </form>\r\n      <div className=\"col\">\r\n        {categories.map((category) => (\r\n          <div className=\"row\" key={category._id}>\r\n            <p>{category.name}</p>\r\n            <div>\r\n              <button\r\n                onClick={() => editCategory(categories._id, categories.name)}>\r\n                Edit\r\n              </button>\r\n              <button>Del</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}